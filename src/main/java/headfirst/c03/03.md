# 3 装饰者模式
给爱用继承的人一个全新的设计眼界

## 欢迎来到星巴克咖啡
better包里的设计缺点:
1. 调料价格改变需要改代码
2. 出现新的调料,则需要改变超类的cost方法
3. 开发新饮料,可能某些调料不适合
4. 万一顾客想要双倍奶,则需要改代码
## 开放-关闭原则
设计原则:
    类应该对扩展开放,对修改关闭
## 认识装饰者模式
星巴克的问题: 类数量爆炸,设计死板,基类的新功能不适用所有的子类
## 以装饰者构造饮料订单 SpringAOP
(Whip.cost(Mocha.cost(DarkRoast.cost)))
- 装饰者和被装饰者有相同的超类
- 可以用一个多个装饰
- 装饰者和被装饰者有相同的超类,那么可以用装饰的对象代替被装饰的对象
- 装饰者可以在被装饰者的行为前后,加上自己的行为
- 可以任意时候,不限量地装饰

## 定义装饰者模式
装饰者即继承,又组合: 原来的行为来自于继承, 新的行为来自于组合
## 装饰饮料
## 写下星巴克的代码
## 真实世界的装饰者: Java I/O
FileInputStream: 基本的字节读取
BufferedInputStream: FileInputStream的装饰者,利用缓冲改进性能,用readLine来增强接口
LineNumberInputStream: BufferedInputStream的装饰者,加上了计算行数的能力
## 编写自己的Java I/O装饰者
## 设计箱内的工具
## 习题解答