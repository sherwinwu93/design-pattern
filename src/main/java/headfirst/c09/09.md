# 9 迭代器与组合模式 管理良好的集合(目的)
集合: 数组~堆栈~列表和Hashtable
集合的公共操作: 遍历-->迭代器

## 对象村餐厅和对象村煎饼屋合并了
对于printMenu,哪些为真?
A T
B F ???
C T
D T
E T
F F
1. 实现Menu接口
2. 丢弃getItems()
3. 加上creatorIterator(), 来遍历Hashtable的值

## 比较菜单的实现
## 可以封装遍历吗?
集合: 一群对象,无论集合类型如何,都一样
## 在餐厅菜单中加入一个迭代器
## 鸟瞰目前的设计
## 利用java.util.Iterator来清理
## 这为我们带来什么好处?
## 定义迭代器模式
迭代器模式: 提供一个方法顺序访问集合中的元素,而不用暴露集合的内部结构
迭代器问答:
1. 迭代器的其他定义,first(),next(),isDone(),currentItem(): 历史的定义被淘汰了
2. 内部和外部迭代器: 外部迭代器:取出对象,操作 for(Item i: list), 内部迭代器: list.forEach(item -> {})
3. 对于Hashtable没有次序关系的: 迭代器不对顺序做出假设
4. 迭代器写多态的代码: 客户端调用迭代器接口,而不是具体的类,就是实现了多态
5. 自己实现迭代器,然后和Java的迭代器集合做整合: 
6. 枚举接口: 可以用适配器模式
## 单一责任
设计原则: 一个类应该只有一个引起变化的原因. 
    这是迭代器产生的原因,因为有了迭代器,所以不需要客户端根据不同的集合类型来处理.

## 迭代器与集合
```puml
interface Collection {
add()
remove()
Iterator iterator();
}
```
## Java5的迭代器和集合
for(Item item: menu) {
}
## 正当我们认为这很安全的时候...
## 定义组合模式
组合模式: 把对象以树状表现为整体/部分的层级.可以让客户一致的方式处理个别对象(单节点也是树)和对象组合(树).
组件,叶节点,组合: 组合和叶节点都是组件. 组合包含多个叶节点或组合
## 利用组合设计菜单
## 实现组合菜单
## 闪回到迭代器
## 空迭代器
## 迭代器和组合凑在一起的魔力
## 设计箱内的工具
## 习题