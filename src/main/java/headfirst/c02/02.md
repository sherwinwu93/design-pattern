# 2 观察者模式
设计原则:
4. 为交互对象之间的松耦合设计而努力

## 气象观测站
利用WeatherData对象取得数据,并更新三个布告板:目前状况~气象统计和天气预报

错误的实现:
1. 我们针对具体实现编程,而非接口
2. 对每个新的布告板,我们都需要修改代码
3. 无法在运行时动态增加布告板
4. False 布告板没有实现共同的接口
5. 我们尚未封装改变的部分
6. False 我们侵犯了WeatherData类的封装

## 认识观察者模式

## 出版者+订阅者=观察者模式
Subject(主题): 奶厂,出版社
Observer(观察者): 订奶的人,订报的人

## 五分钟短剧: 观察主题
## 定义观察者模式
观察者模式: 一个对象改变状态时,它的所有观察者都会收到通知,并更新自己
## 松耦合的威力
观察者模式让主题和观察者之间松耦合.
松耦合的设计之所以让系统有弹性,应对变化,因为对象之间的相互依赖降到了最低.
## 设计气象站
## 实现气象站
## 使用Java内建的观察者模式
## java.util.Observable的黑暗面
## 设计箱内的工具
## 习题解答
观察者模式如何遵循设计原则? 总体: 抽象出接口;使用其他对象时,用组合而不是继承
1. 分离变化和不变的部分
    抽离出Subject接口,抽离出Observer接口.不变的是它们的方法,变化的是它们方法的实现
2. 针对接口编程,不针对实现编程
    Observer和Subject所有实现,都只知道对方是接口,不知道其实现
3. 多用组合,少用继承
    Observer持有属性Subject,而不是继承
    Subject持有属性List<Observer>